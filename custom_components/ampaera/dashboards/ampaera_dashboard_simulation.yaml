# Ampæra Energy Dashboard Template - Simulation Mode
# Auto-generated by the Ampæra integration
# Site: {site_name} (ID: {site_id})
#
# Uses simulated entity IDs from ampaera_sim integration

title: "Ampæra - {site_name}"
icon: mdi:lightning-bolt

views:
  # Overview Tab - Main dashboard with key metrics
  - title: "Oversikt"
    path: overview
    icon: mdi:home-lightning-bolt
    cards:
      # Real-time Power Gauge
      - type: gauge
        entity: sensor.simulated_ams_meter_power
        name: "Nåværende effekt"
        min: 0
        max: 15000
        severity:
          green: 0
          yellow: 5000
          red: 10000
        needle: true
        unit: "W"

      # Today's Stats
      - type: glance
        title: "I dag"
        entities:
          - entity: sensor.simulated_ams_meter_energy_import
            name: "Energi"
          - entity: sensor.simulated_water_heater_energy
            name: "Bereder"
          - entity: sensor.simulated_ev_charger_total_energy
            name: "Elbil"

      # Power History Graph (native HA card)
      - type: history-graph
        title: "Effekthistorikk"
        hours_to_show: 24
        entities:
          - entity: sensor.simulated_ams_meter_power
            name: "Total effekt"
          - entity: sensor.simulated_water_heater_power
            name: "Bereder"
          - entity: sensor.simulated_ev_charger_power
            name: "Elbil"

      # Phase Info Card
      - type: entities
        title: "Faseinformasjon"
        entities:
          - entity: sensor.simulated_ams_meter_voltage_l1
            name: "Spenning L1"
          - entity: sensor.simulated_ams_meter_voltage_l2
            name: "Spenning L2"
          - entity: sensor.simulated_ams_meter_voltage_l3
            name: "Spenning L3"

  # Energy Tab - Detailed energy analysis
  - title: "Energi"
    path: energy
    icon: mdi:flash
    cards:
      # Energy stats
      - type: statistic
        entity: sensor.simulated_ams_meter_energy_import
        name: "Total energi importert"
        period:
          calendar:
            period: day

      # Phase Currents
      - type: entities
        title: "Fasestrømmer"
        entities:
          - entity: sensor.simulated_ams_meter_current_l1
            name: "Strøm L1"
          - entity: sensor.simulated_ams_meter_current_l2
            name: "Strøm L2"
          - entity: sensor.simulated_ams_meter_current_l3
            name: "Strøm L3"

      # Energy by device
      - type: entities
        title: "Energiforbruk per enhet"
        entities:
          - entity: sensor.simulated_water_heater_energy
            name: "Varmtvannsbereder"
          - entity: sensor.simulated_ev_charger_total_energy
            name: "Elbillader"

  # Devices Tab - Controllable devices
  - title: "Enheter"
    path: devices
    icon: mdi:devices
    cards:
      # Water Heater Control
      - type: thermostat
        entity: water_heater.simulated_water_heater
        name: "Varmtvannsbereder"

      # Water Heater Details
      - type: entities
        title: "Bereder detaljer"
        entities:
          - entity: sensor.simulated_water_heater_temperature
            name: "Temperatur"
          - entity: sensor.simulated_water_heater_power
            name: "Effekt"
          - entity: switch.simulated_water_heater_heating
            name: "Varmer"
          - entity: select.simulated_water_heater_mode
            name: "Modus"

      # EV Charger
      - type: entities
        title: "Elbillader"
        entities:
          - entity: select.simulated_ev_charger_status
            name: "Status"
          - entity: sensor.simulated_ev_charger_power
            name: "Effekt"
          - entity: sensor.simulated_ev_charger_battery_soc
            name: "Batterinivå"
          - entity: switch.simulated_ev_charger_connected
            name: "Tilkoblet"
          - entity: switch.simulated_ev_charger_charging
            name: "Lader"
          - entity: number.simulated_ev_charger_current_limit
            name: "Strømgrense"

  # Info Tab - System info
  - title: "Info"
    path: info
    icon: mdi:information
    cards:
      # Simulation Status
      - type: markdown
        title: "Simuleringsmodus"
        content: |
          Dette dashboardet viser **simulerte data** for testing og demonstrasjon.

          Simulerte enheter:
          - AMS-måler (3-fase)
          - Varmtvannsbereder
          - Elbillader
          - Husholdningsapparater

      # System Info
      - type: markdown
        title: "Ampæra-integrasjon"
        content: |
          **Sted:** {site_name}
          **Site ID:** {site_id}
          **Strømregion:** {grid_region}
          **Modus:** Simulering

          [Åpne Ampæra Dashboard](https://ampæra.no/dashboard)
